<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · KiteUtils.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://ufechner7.github.io/KiteUtils.jl/examples/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">KiteUtils.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../functions/">Exported Functions</a></li><li><a class="tocitem" href="../types/">Exported Types</a></li><li class="is-active"><a class="tocitem" href>Examples</a><ul class="internal"><li><a class="tocitem" href="#Create-a-test-project"><span>Create a test project</span></a></li><li><a class="tocitem" href="#Use-of-the-settings"><span>Use of the settings</span></a></li><li><a class="tocitem" href="#The-SysState"><span>The SysState</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Examples</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ufechner7/KiteUtils.jl/blob/master/docs/src/examples.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><h2 id="Create-a-test-project"><a class="docs-heading-anchor" href="#Create-a-test-project">Create a test project</a><a id="Create-a-test-project-1"></a><a class="docs-heading-anchor-permalink" href="#Create-a-test-project" title="Permalink"></a></h2><pre><code class="nohighlight hljs">mkdir test
cd test
julia --project</code></pre><p>and add KiteUtils to the project:</p><pre><code class="language-julia hljs">]activate .
add https://github.com/ufechner7/KiteUtils.jl
&lt;DEL&gt;</code></pre><p>finally, copy the default configuration files to your new project:</p><pre><code class="language-julia hljs">using KiteUtils
copy_settings()</code></pre><h2 id="Use-of-the-settings"><a class="docs-heading-anchor" href="#Use-of-the-settings">Use of the settings</a><a id="Use-of-the-settings-1"></a><a class="docs-heading-anchor-permalink" href="#Use-of-the-settings" title="Permalink"></a></h2><pre><code class="language-julia hljs">using KiteUtils
const set = se()</code></pre><pre><code class="language-julia hljs">KiteUtils.Settings
  project: String &quot;settings.yaml&quot;
  log_file: String &quot;data/log_8700W_8ms&quot;
  model: String &quot;data/kite.obj&quot;
  segments: Int64 6
  sample_freq: Int64 20
  time_lapse: Float64 1.0
  zoom: Float64 0.03
  fixed_font: String &quot;&quot;
  v_reel_out: Float64 0.0
  c0: Float64 0.0
  c_s: Float64 2.59
  c2_cor: Float64 0.93
  k_ds: Float64 1.5
  area: Float64 10.18
  mass: Float64 6.2
  height_k: Float64 2.23
  alpha_cl: Array{Float64}((12,)) [-180.0, -160.0, -90.0, -20.0, -10.0, -5.0, 0.0, 20.0, 40.0, 90.0, 160.0, 180.0]
  cl_list: Array{Float64}((12,)) [0.0, 0.5, 0.0, 0.08, 0.125, 0.15, 0.2, 1.0, 1.0, 0.0, -0.5, 0.0]
  alpha_cd: Array{Float64}((11,)) [-180.0, -170.0, -140.0, -90.0, -20.0, 0.0, 20.0, 90.0, 140.0, 170.0, 180.0]
  cd_list: Array{Float64}((11,)) [0.5, 0.5, 0.5, 1.0, 0.2, 0.1, 0.2, 1.0, 0.5, 0.5, 0.5]
  ...
  l_bridle: Float64 33.4
  l_tether: Float64 392.0
  damping: Float64 473.0
  c_spring: Float64 614600.0
  elevation: Float64 70.7
  sim_time: Float64 100.0</code></pre><p>You can see the available setting parameters by typing <code>set.&lt;TAB&gt;&lt;TAB&gt;</code> at the Julia prompt. Defining <code>set</code> as constant improves the performance of the access to the  parameters. You can still change the values of the parameters, only the types are fixed.</p><h2 id="The-SysState"><a class="docs-heading-anchor" href="#The-SysState">The SysState</a><a id="The-SysState-1"></a><a class="docs-heading-anchor-permalink" href="#The-SysState" title="Permalink"></a></h2><p>The state of the kitepower system is captured in the struct SysState.</p><pre><code class="language-julia hljs">julia&gt; using KiteUtils

julia&gt; st = demo_state(7)
time      [s]:       0.0
orient    [w,x,y,z]: Float32[0.5, 0.5, -0.5, -0.5]
elevation [rad]:     0.5404195
azimuth   [rad]:     0.0
l_tether  [m]:       0.0
v_reelout [m/s]:     0.0
force     [N]:       0.0
depower   [-]:       0.0
v_app     [m/s]:     0.0
X         [m]:       Float32[0.0, 1.6666666, 3.3333333, 5.0, 6.6666665, 8.333333, 10.0]
Y         [m]:       Float32[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
Z         [m]:       Float32[0.0, 0.15380114, 0.6194867, 1.4100224, 2.5474184, 4.063342, 6.0000005]</code></pre><p>For simulation the time is since the start of the simulation, for flight logs the time is since launch.   You can access the fields of the state using the dot notation:</p><pre><code class="language-julia hljs">julia&gt; rad2deg(st.elevation)
30.963757f0</code></pre><p>The orientation is stored as unit quaternion (see: <a href="https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation">Quaterinos_and_spatial_rotation</a>).</p><p>If you need to work with rotations, use the package Rotatations.jl (see: <a href="https://github.com/JuliaGeometry/Rotations.jl">Rotations.jl</a>)   Example:</p><pre><code class="language-julia hljs">julia&gt; using Rotations

julia&gt; q = QuatRotation(st.orient)
3×3 QuatRotation{Float32} with indices SOneTo(3)×SOneTo(3)(Quaternion{Float32}(0.5, 0.5, -0.5, -0.5, true)):
  0.0  0.0  -1.0
 -1.0  0.0   0.0
  0.0  1.0   0.0</code></pre><p>The components X, Y and Z are vectors of the x, y and z positions of the tether particles. The last element of these vectors represents the kite position.</p><pre><code class="language-julia hljs">julia&gt; kite_pos = [st.X[end], st.Y[end], st.Z[end]]
3-element Vector{Float32}:
 10.0
  0.0
  6.0000005</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../types/">« Exported Types</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Tuesday 28 December 2021 22:13">Tuesday 28 December 2021</span>. Using Julia version 1.7.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
