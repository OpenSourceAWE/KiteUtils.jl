# Changelog 
### KiteUtils v0.9.0 - 2024-11-09
#### Breaking changes
- you can (and should) now use `SysState{P}()` to create a new, empty SysState and then fill the fields with
  the actual values in other packages that use KiteUtils. This makes your code robust for later changes to the
  struct `SysState`.
#### Changes
- all code related to logging of `SysState` structs is now auto-generated by the script `build.jl` based on the content
  of the file `sysstate.yaml`. This makes it much easier to add or remove fields for logging.
- the vectors v_wind_gnd, v_wind_200m and v_wind_kite were added to `SysState`
- the scalars AoA, CL and CD were added to SysState
- the properties `x`, `y` and `z` of `SysLog` now represent the position of the 4-point kite
#### Added
- the properties `x1`, `y1` and `z1` of `SysLog` were added and represent the position of the 1-point kite

### KiteUtils v0.8.4 - 2024-10-31
- add `cms` to settings2.yaml, a steering dependant moment coefficient to represent the deformation based turning moment

### KiteUtils v0.8.3 - 2024-10-22
- add `cs_4p` to `settings2.yaml`, a correction factor for the steering sensitivity of the KPS4 model
- extend documentation of reference frames and the orientation

### KiteUtils v0.8.2 - 2024-10-18
#### Changed
- the function calc_course expects now `upwind_dir` as parameter
- rename all parameters `up_wind_direction` to `upwind_dir`
- the function calc_heading expects now for the orientation the euler angles with respect to the NED reference frame
- it also expects the azimuth to be defined in wind reference frame
- the function fromW2SE expects now the azimuth to be defined in wind reference frame

### KiteUtils v0.8.1 - 2024-10-16
##### Added
- function euler2rot
- function azn2azw (azimuth north to azimuth wind)
- function azimuth_north
##### Removed
- removed function quat2frame because it was not well defined
- removed function calc_azimuth, replaced with more specific functions (see above)
##### Changed
- renamed the parameter `yaw` to `azimuth_north` for `demo_state` and `demo_state_4p`
##### Fixed
- fixed the function quat2viewer

### KiteUtils v0.8.0 - 2024-10-15
#### Added
- add function calc_orient_rot
- add function quat2frame
- add function quat2viewer
- add is_right_handed_orthonormal
- add enu2ned
- add parameter `yaw` to the functions `demo_state` and `demo_state_4p`
#### Fixed
- function quat2euler uses the function `dcm_to_angle` from `ReferenceFrameRotations.jl` now

### KiteUtils v0.7.12 - 2024-10-04
#### Changed
- revert the change of the heading calculation in 7.11
- update the documentation on reference frames

### KiteUtils v0.7.11 - 2024-09-24
#### Added
- the function `quat2euler(q)`, where `q` can be an `AbstractVector` or a `QuatRotation`. It returns roll, pitch and yaw in radian.
#### Changed
- the function `calc_heading()` had the new parameter `upwind_dir` with the default `-pi/2`. Furthermore the result differs by `pi` from the old calculation. The old calculation was wrong.

### KiteUtils v0.7.10 - 2024-09-16
#### Added
- the fields `foil_file`, `polar_file` and `flap_height` to the `Settings` struct
- the function `wrap2pi`
- the function `asin2`
- documentation for the yaml helper functions `readfile`, `writefile` and `change_value`

### KiteUtils v0.7.9 - 2024-09-05
#### Added
- add function `import_log()` for importing of .csv files
#### Changed
- update the documentation of reference frames

### KiteUtils v0.7.8 - 2024-08-22
#### Fix
- add cd_kcu to the KCU parameter settings, second try

### KiteUtils v0.7.7 - 2024-08-14
#### Changed
- add cd_kcu to the KCU parameter settings
- update system2.yaml and system_3l.yaml with the new settings
- the default parameter of the function `se()` is now PROJECT and not "system.yaml". This is a braking change.

### KiteUtils v0.7.6 - 2024-08-11
#### Added
- unit tests for copy_settings()
- waiver regarding the copyright of TU Delft
- the files settings_3l.yaml and system_3l.yaml

### Changed
- copy_settings() now also copies the two new settings files

#### Fixed
- improve CI.yml: code coverage works again, added cache

### KiteUtils v0.7.5 - 2024-08-09
#### Added
- the fields kcu_model, kcu_diameter, depower_zero and degrees_per_percent_power
- the files system2.yaml and system2.yaml which use KCU2

#### Fixed
- when calling se(); se("system2.yaml") the new settings where not used

### KiteUtils v0.7.4 - 2024-08-06
#### Changed
- the first parameter of `demo_state_4p_3lines()` is now the number of middle tether particles

### KiteUtils v0.7.3 - 2024-08-05
#### Added
- function `demo_state_4p_3lines()`
- `dependabot.yml` to the GitHub CI scripts, which keeps the GitHub actions up-to-date
#### Changed
- added the `Base.@kwdef` decorator to the type SysState. This allows it to easily create
  a SysState struct from a JSON message

### KiteUtils v0.7.2 - 2024-07-24
#### Changed
- renamed inertia_motor to inertia_total

### KiteUtils v0.7.1 - 2024-07-24
#### Added
- new parameters `f_coulomb` and `c_vf` for the friction of the winch

### KiteUtils v0.7.0 - 2024-07-24
#### Added
- new parameters `winch_model`, `drum_radius`, `gear_ratio`, `inertia_motor`
- print a warning if the section `kps4_3l` is missing

### KiteUtils v0.6.16 - 2024-06-25
#### Changed
- new field `width_3l`
#### Fixed
- read the fields for the KPS4-3L model from yaml file

### KiteUtils v0.6.15 - 2024-06-21
#### Changed
- add fields needed for the new KPS4-3L model

### KiteUtils v0.6.14 - 2024-06-20
#### Fixed
- all methods of the function save_log() accept now the named parameter `path`

### KiteUtils v0.6.13 - 2024-06-19
#### Fixed
- downgraded RecursiveArrayTools because the latest version stopped working any longer

### KiteUtils v0.6.12 - 2024-06-18
#### Changed
- add 6 more free variables, now 16 free variables can be logged per time step
- drop support for Julia 1.9

### KiteUtils v0.6.11 - 2024-04-22
#### Changed
- the functions `export_log()` support now the named parameter `path` to specify the directory
#### Fixed
- the function `load_log()` works now when a fully qualified filename is passed 

### KiteUtils v0.6.10 - 2024-04-20
#### Added
- new parameters `rel_compr_stiffness` and `rel_damping` in settings.yaml 

#### Changed
- the functions `load_log()` and `save_log()` have the new, optional, named parameter `path` to specify the file path;  if not specified, the default data path is used.

### KiteUtils v0.6.9 - 2024-04-16
#### Added
- function fpc_settings()
- function fpp_settings()

### KiteUtils v0.6.8 - 2024-04-16
#### Added
- function wc_settings(), which returns the name of the wc_settings.yaml file of the current project
#### Changed
- the function load_settings(project) now expects the name of the `systems.yaml` file as parameter
- the key `project` in `systems.yaml` was replaced with the key `sim_settings`
- the key `wc_settings` was added to `systems.yaml`

### KiteUtils v0.6.6 - 2024-04-05
#### Added
- add field `log_level` to `settings.yaml`and Settings struct

### KiteUtils v0.6.5 - 2024-04-03
#### Added
- add field `solver` to `settings.yaml`and Settings struct

### KiteUtils v0.6.4 - 2024-03-29
#### Changed
- the function `load_log()` does not require the number of tether segments as parameter any longer. It is derived from the content of the log file.

### KiteUtils v0.6.3 - 2024-03-26
#### Added
- Add free fields var_01 .. var_02 and column meta data ([#41](https://github.com/ufechner7/KiteUtils.jl/pull/41))

